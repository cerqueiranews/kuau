{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, BlockerDelegate } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { GithubProvider } from '../../providers/github/github';\nimport { User } from '../../providers/github/github.model';\n\n/**\n * Generated class for the ProfilePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n    selector: 'page-profile',\n    templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n\n    private url: string = '';\n    private profile: User;\n    private table: string = 'profile';\n    private storage: Storage;\n\n    constructor(public navCtrl: NavController, public navParams: NavParams, private githubPrvd: GithubProvider) {\n        this.storage = new Storage({\n            name: 'kuau',\n            driverOrder: ['indexeddb', 'sqlite', 'websql', 'localstorage'],\n            storeName: this.table\n        });\n\n        this.url = this.navParams.get('url');\n\n        if (this.url != '' && this.url != null) {\n            this.getProfile();\n        } else {\n            console.error('URL nÃ£o encontrada!');\n            this.navCtrl.setRoot('HomePage');\n        }\n    }\n\n    getProfile(){\n        return new Promise(resolve => {\n            this.storage.get(this.url).then(data => {\n                if(data){\n                    this.profile = data;\n                    resolve(true);\n                }else{\n                    this.githubPrvd.getUrl(this.url).subscribe(data => {\n                        this.profile = {\n                            id: data.id,\n                            login: data.login,\n                            avatar: data.avatar_url,\n                            name: data.name,\n                            email: data.email,\n                            bio: data.bio,\n                            blog: data.blog,\n                            url: data.html_url,\n                            location: data.location,\n                            company: data.company,\n                            public_repos: data.public_repos,\n                            public_repos_url: data.repos_url,\n                            followers: data.followers,\n                            followers_url: data.followers_url,\n                            following: data.following,\n                            following_url: data.following_url,\n                            create_at: data.created_at,\n                            update_at: data.updated_at\n                        }\n                        \n                        //Armazena na base dados no dispositivo para acesso futuro;\n                        this.storage.set(this.url, this.profile);\n                        resolve(true);\n                    }, error => {\n                        console.log(error);\n                        this.profile = <User>{};\n                        resolve(false);\n                    });\n                }\n            });\n        });\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}