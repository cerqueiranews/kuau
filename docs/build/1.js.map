{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACd;AAUlC;IAAA;IAA6B,CAAC;IAAjB,cAAc;QAR1B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,uDAAQ;aACT;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,uDAAQ,CAAC;aACnC;SACF,CAAC;OACW,cAAc,CAAG;IAAD,qBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACZe;AACe;AAChB;AACsB;AAE/D;;;;;GAKG;AAOH;IASI,kBAAmB,OAAsB,EAAS,SAAoB,EAAU,UAA0B;QAAvF,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAU,eAAU,GAAV,UAAU,CAAgB;QAPlG,UAAK,GAAW,QAAQ,CAAC;QACzB,SAAI,GAAW,EAAE,CAAC;QAClB,SAAI,GAAU,EAAE,CAAC;QACjB,UAAK,GAAW,CAAC,CAAC;QAClB,UAAK,GAAW,QAAQ,CAAC;QAI7B,IAAI,CAAC,OAAO,GAAG,IAAI,+DAAO,CAAC;YACvB,IAAI,EAAE,MAAM;YACZ,WAAW,EAAE,CAAC,WAAW,EAAE,QAAQ,EAAE,QAAQ,EAAE,cAAc,CAAC;YAC9D,SAAS,EAAE,IAAI,CAAC,KAAK;SACxB,CAAC,CAAC;IAEP,CAAC;IAED,gCAAa,GAAb,UAAc,MAAM;QAChB,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC;YAClB,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;QACzB,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YACf,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACtC,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;IACL,CAAC;IAED,yBAAM,GAAN;QAAA,iBAwCC;QAvCG,MAAM,CAAC,IAAI,OAAO,CAAC,iBAAO;YACtB,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACtC,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,GAAG,EAAE,GAAG;gBACjC,sEAAsE;gBACtE,EAAE,CAAC,CAAC,GAAG,CAAC,iBAAiB,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACtE,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC1B,CAAC;YACL,CAAC,CAAC,CAAC,IAAI,CAAC,cAAI;gBACR,EAAE,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;oBACxB,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,cAAI;wBAC5C,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC;wBAC9B,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;wBACtC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAI;4BACnB,IAAI,OAAO,GAAG;gCACV,KAAK,EAAE,IAAI,CAAC,KAAK;gCACjB,WAAW,EAAE,IAAI,CAAC,QAAQ;gCAC1B,UAAU,EAAE,IAAI,CAAC,UAAU;gCAC3B,UAAU,EAAE,IAAI,CAAC,GAAG;6BACvB,CAAC;4BACF,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BACxB,wDAAwD;4BACxD,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;wBAC1C,CAAC,CAAC,CAAC;wBACH,OAAO,CAAC,CAAC,CAAC,CAAC;wBACX,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;oBACnD,CAAC,EAAE,eAAK;wBACJ,KAAI,CAAC,KAAK,GAAG,CAAC,CAAC;wBACf,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;wBACtC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wBACrB,OAAO,CAAC,CAAC,CAAC,CAAC;wBACX,OAAO,CAAC,KAAK,CAAC,0DAA0D,CAAC,CAAC;oBAC9E,CAAC,CAAC,CAAC;gBACP,CAAC;gBAAA,IAAI,EAAC;oBACF,oCAAoC;oBACpC,OAAO,CAAC,CAAC,CAAC,CAAC;oBACX,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;gBACnD,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,8BAAW,GAAX,UAAY,GAAW;QACnB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IACnD,CAAC;IAxEQ,QAAQ;QAJpB,wEAAS,CAAC;YACP,QAAQ,EAAE,WAAW;WACG;SAC3B,CAAC;iBAU4G;OATjG,QAAQ,CA0EpB;IAAD,CAAC;AAAA;SA1EY,QAAQ,e","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n  ],\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { GithubProvider } from '../../providers/github/github';\n\n/**\n * Generated class for the HomePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n    selector: 'page-home',\n    templateUrl: 'home.html',\n})\nexport class HomePage {\n\n    private title: string = 'GitHub';\n    private term: string = '';\n    private list: any[] = [];\n    private total: number = 0;\n    private table: string = 'search';\n    private storage: Storage;\n\n    constructor(public navCtrl: NavController, public navParams: NavParams, private githubPrvd: GithubProvider) {\n        this.storage = new Storage({\n            name: 'kuau',\n            driverOrder: ['indexeddb', 'sqlite', 'websql', 'localstorage'],\n            storeName: this.table\n        });\n\n    }\n\n    onSearchInput($event): Promise<number> | boolean {\n        if (this.term != '') {\n            return this.search();\n        } else {\n            this.total = 0;\n            this.list.splice(0, this.list.length);\n            return true;\n        }\n    }\n\n    search(): Promise<number> {\n        return new Promise(resolve => {\n            this.list.splice(0, this.list.length);\n            this.storage.forEach((value, key, int) => {\n                //Primeiro busca dados locais, caso nÃ£o retorne registro busca no git.\n                if (key.toLocaleLowerCase().indexOf(this.term.toLocaleLowerCase()) >= 0) {\n                    this.list.push(value);\n                }\n            }).then(data => {\n                if (this.list.length == 0) {\n                    this.githubPrvd.search(this.term).subscribe(data => {\n                        this.total = data.total_count;\n                        this.list.splice(0, this.list.length);\n                        data.items.forEach(item => {\n                            let newItem = {\n                                login: item.login,\n                                profile_url: item.html_url,\n                                avatar_url: item.avatar_url,\n                                detail_url: item.url\n                            };\n                            this.list.push(newItem);\n                            //Armazena retorno da busca para busca local futuramente\n                            this.storage.set(item.login, newItem);\n                        });\n                        resolve(1);\n                        console.log('Pesquisa realizada com sucesso.');\n                    }, error => {\n                        this.total = 0;\n                        this.list.splice(0, this.list.length);\n                        console.error(error);\n                        resolve(0);\n                        console.error('Houve algum erro ao realizar a pesquisa. Consulte o log.');\n                    });\n                }else{\n                    //Pesquisa local retornou resultado.\n                    resolve(2);\n                    console.log('Pesquisa realizada com sucesso.');\n                }\n            });\n        });\n    }\n\n    openProfile(url: string): void {\n        this.navCtrl.push('ProfilePage', { url: url });\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}